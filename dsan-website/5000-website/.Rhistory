n = 1000
x = runif(n)
y = runif(n)
plot(x, y, col=ifelse(x + y < 1, "blue", "red"), xlab="X", ylab="Y",
main="Joint Distribution of X and Y")
abline(h=1, v=1, col="black", lty=2)
legend("topright", legend=c("X+Y < 1", "X+Y >= 1"),
fill=c("blue", "red"), bty="n")
hist(x[x + y < 1], probability=TRUE, col=rgb(0.2,0.8,0.5,0.5),
xlim=c(0,1), main="Marginal Distribution of X", xlab="X", ylab="Frequency")
fxy = function(x, y, C) {
3C*(x^2)+6C*x*(y^2)
fxy = function(x, y, C) {
3*C*(x^2)+6C*x*(y^2)
fxy = function(x, y, C) {
3*C*(x^2)+6*C*x*(y^2)
}
C_value = 1/132
integrand_inner = function(x, y, C) {
fxy(x, y, C)
}
integrand_outer = function(y, C) {
Integral with respect to x from 0 to y
View(integrand_inner)
a=c(1,2,3,4,5)
print(mean(a))
print("I am your father",mean(a))
cat("I am your father",mean(a))
text(250, 250, paste("you silly b", mean(a)))
plot(1, type="n", xlab="", ylab="", xlim=c(0, 2), ylim=c(0, 2))
text(250, 250, paste("you silly b", mean(a)))
text(1, 1, paste("you silly b", mean(a)))
install.packages("mvtnorm")
install.packages("plotly")
read.csv("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/7.1.xlsx")
install.packages("readxl")
library(readxl)
data = readxl::read_excel("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/7.1.xlsx")
View(data)
write.csv(data, "/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/7.1.xlsx", row.names = FALSE)
View(data)
class(data)
data2 = readxl::read_excel("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/2.xlsx")
View(data2)
data = readxl::read_excel("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/2.xlsx")
library(readr)
library(dplyr)
library(dplyr)
data = read_csv("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/2.xlsx", skip = 2) # 跳过前两行标题
data = readxl::read_excel("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/2.xlsx")
write.csv(data, "/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/2.xlsx", row.names = FALSE)
install.packages(c("readxl", "tidyverse"))
install.packages(c("readxl", "tidyverse"))
library(readxl)
library(tidyverse)
data = read_excel("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/2.xlsx", skip = 2)
data = read_excel("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/2.xlsx", skip = 2)
data = read_excel("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/2.xlsx")
data = read_excel("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/2.xlsx",skip = 2)
data = readxl::read_excel("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/2.xlsx")
library(readxl)
data = readxl::read_excel("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/2.xlsx")
data = readxl::read_excel("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/2.xlsx")
data = readxl::read_excel("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/7.1.xlsx")
install.packages("readxl")
install.packages("readxl")
library(readxl)
library(tidyverse)
data = readxl::read_excel("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/2.xlsx")
install.packages("openxlsx")
library(openxlsx)
data = openxlsx::read.xlsx("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/2.xlsx", skip = 2)
data = openxlsx::read.xlsx("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/2.xlsx")
data = openxlsx::read.xlsx("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/2.xlsx")
setwd("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website")
data <- read_excel("2.xlsx")
data <- read_excel("7.1.xlsx")
library(readxl)
library(tidyverse)
setwd("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website")
data <- read_excel("7.1.xlsx")
library(readxl)
library(tidyverse)
data = openxlsx::read.xlsx("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/82.xlsx")
data = openxlsx::read.xlsx("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/82.xlsx",skip = 2)
data <- read_excel("your_file_path.xlsx", skip = 2) # 跳过前两行标题
data <- read_excel("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/82.xlsx", skip = 2) # 跳过前两行标题
data <- data[-c(25,26,27), ] # 删除最后三行脚注
# 假设NA表示0
data[is.na(data)] <- 0
View(data)
data = openxlsx::read.xlsx("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/2.xlsx")
setwd("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website")
function (..., list = character(), package = NULL, lib.loc = NULL,
verbose = getOption("verbose"), envir = .GlobalEnv, overwrite = TRUE)
data = read_excel("82.xlsx")
data = read_excel("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/82.xlsx", skip = 2) # 跳过前两行标题
View(data)
cleaned_df <- data %>%
# 为性别列添加新的标记
mutate(Gender = case_when(
`...1` == "Male" ~ "Male",
`...1` == "Female" ~ "Female",
TRUE ~ NA_character_
)) %>%
# 使用fill函数将NA值替换为"Male"或"Female"
fill(Gender) %>%
# 删除男性和女性标题行
filter(!(`...1` %in% c("Male", "Female", "All Persons", "Sex/Age"))) %>%
# 修复数字的精度
mutate(`Electric Vehicle (EV) Ownership` = round(`Electric Vehicle (EV) Ownership`, 1)) %>%
# 重命名列
rename(
`Age Group` = `...1`,
`EV Yes` = `Electric Vehicle (EV) Ownership`,
`EV No` = `...3`,
Total = `...4`
)
df <- df %>%
mutate(Gender = case_when(
`...1` == "Male" ~ "Male",
`...1` == "Female" ~ "Female",
TRUE ~ NA_character_
))
library(tidyverse)
df <- df %>%
mutate(Gender = case_when(
`...1` == "Male" ~ "Male",
`...1` == "Female" ~ "Female",
TRUE ~ NA_character_
))
df <- data %>%
mutate(Gender = case_when(
`...1` == "Male" ~ "Male",
`...1` == "Female" ~ "Female",
TRUE ~ NA_character_
))
View(df)
df <- df %>%
fill(Gender)
df = df %>%
filter(!(`...1` %in% c("Male", "Female", "All Persons", "Sex/Age")))
df = df %>%
mutate(`Electric Vehicle (EV) Ownership` = round(as.numeric(`Electric Vehicle (EV) Ownership`), 1))
df = df %>%
rename(
`Age Group` = `...1`,
`EV ownership Yes` = `Electric Vehicle (EV) Ownership`,
`EV ownership No` = `...3`,
Total = `...4`
)
df = df %>%
slice(-c(1, 9))
library(readxl)
library(tidyverse)
setwd("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website")
#Read in the Data
data = read_excel("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/82.xlsx", skip = 2) # 跳过前两行标题
#Remove Unwanted Rows
df = data %>%
mutate(Gender = case_when(
`...1` == "Male" ~ "Male",
`...1` == "Female" ~ "Female",
TRUE ~ NA_character_
))
df = df %>%
fill(Gender)
#Remove unnecessary rows
df = df %>%
filter(!(`...1` %in% c("Male", "Female", "All Persons", "Sex/Age")))
#Fix the accuracy of numbers
df = df %>%
mutate(`Electric Vehicle (EV) Ownership` = round(as.numeric(`Electric Vehicle (EV) Ownership`), 1))
#Rename columns
df = df %>%
rename(
`Age Group` = `...1`,
`EV ownership Yes` = `Electric Vehicle (EV) Ownership`,
`EV ownership No` = `...3`,
Total = `...4`
)
#Delete useless lines
df = df %>%
slice(-c(1, 9))
print(df)
View(df)
View(data)
#Read in the Data
data = read_excel("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/26.xlsx", skip = 2) # 跳过前两行标题
View(data)
View(data)
View(data)
View(data)
#Fix the accuracy of numbers
data = data %>%
mutate(`...3` = round(as.numeric(`...3`), 1))
#Fix the accuracy of numbers
data = data %>%
mutate(`...4` = round(as.numeric(`...4`), 1))
#Fix the accuracy of numbers
data = data %>%
mutate(`...5` = round(as.numeric(`...5`), 1))
#Fix the accuracy of numbers
data = data %>%
mutate(`...6` = round(as.numeric(`...6`), 1))
#Fix the accuracy of numbers
data = data %>%
mutate(`...7` = round(as.numeric(`...7`), 1))
library(dplyr)
df_cleaned = data %>% filter(!apply(is.na(.), 1, all))
View(data)
View(df_cleaned)
df_cleaned = df_cleaned %>% mutate(across(where(is.numeric), round, 2))
library(tidyr)
df_long <- df_cleaned %>% pivot_longer(cols = everything(), names_to = "Variable", values_to = "Value")
df_rotated <- df_long %>% pivot_wider(names_from = Variable, values_from = Value)
View(data)
df = df %>%
mutate(`...8` = round(as.numeric(`...8`), 1))
View(df_cleaned)
View(data)
df = data %>% filter(!apply(is.na(.), 1, all))
#Read in the Data
data = read_excel("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/26.xlsx", skip = 2) # 跳过前两行标题
library(dplyr)
df = data %>% filter(!apply(is.na(.), 1, all))
df = df %>%
mutate(`...8` = round(as.numeric(`...8`), 1))
View(df)
df = df %>%
mutate(`...1` = round(as.numeric(`...1`), 1))%>%
mutate(`...2` = round(as.numeric(`...2`), 1))%>%
mutate(`...3` = round(as.numeric(`...3`), 1))%>%
mutate(`...4` = round(as.numeric(`...4`), 1))%>%
mutate(`...5` = round(as.numeric(`...5`), 1))%>%
mutate(`...6` = round(as.numeric(`...6`), 1))%>%
mutate(`...7` = round(as.numeric(`...7`), 1))%>%
mutate(`...8` = round(as.numeric(`...8`), 1))%>%
mutate(`...9` = round(as.numeric(`...9`), 1))%>%
mutate(`...10` = round(as.numeric(`...10`), 1))%>%
mutate(`...11` = round(as.numeric(`...11`), 1))%>%
mutate(`...12` = round(as.numeric(`...12`), 1))
df = df %>%
mutate(`...3` = round(as.numeric(`...3`), 1))%>%
mutate(`...4` = round(as.numeric(`...4`), 1))%>%
mutate(`...5` = round(as.numeric(`...5`), 1))%>%
mutate(`...6` = round(as.numeric(`...6`), 1))%>%
mutate(`...7` = round(as.numeric(`...7`), 1))%>%
mutate(`...8` = round(as.numeric(`...8`), 1))%>%
mutate(`...9` = round(as.numeric(`...9`), 1))%>%
mutate(`...10` = round(as.numeric(`...10`), 1))%>%
mutate(`...11` = round(as.numeric(`...11`), 1))%>%
mutate(`...12` = round(as.numeric(`...12`), 1))
View(df)
df = df[-(17:20), ]
df[2:ncol(df)]
names(df)[2:ncol(df)] = c("Cost", "Reason1", "Reason2", "Reason3", "Reason4", "Reason5", "Reason6", "Reason7", "Reason8", "Reason9", "Reason10", "Reason11")
names(df)[1:ncol(df)] = c("Sex/Age group","Cost", "Reason1", "Reason2", "Reason3", "Reason4", "Reason5", "Reason6", "Reason7", "Reason8", "Reason9", "Reason10", "Reason11")
df = df %>%
mutate(`Cost` = round(as.numeric(`Cost`), 1))
df = df %>%
mutate(Gender = case_when(
`...1` == "Male" ~ "Male",
`...1` == "Female" ~ "Female",
TRUE ~ NA_character_
))
df = df %>%
fill(Gender)
df = df %>%
mutate(Gender = case_when(
`Sex/Age group` == "Male" ~ "Male",
`Sex/Age group` == "Female" ~ "Female",
TRUE ~ NA_character_
))
df = df %>%
fill(Gender)
df = df %>%
slice(-c(1, 3, 10))
#rename
names(df)[1:ncol(df)] = c("Sex/Age group","Cost", "Inadequete public charging facilities", "No/limited access to home charging", "Limited range available", "Don't drive/ own a car", "Resale value of EV", "Reliability/ safety concerns", "No need/ don't know enough", "Not changing for a while", "Not available at time of last purchase", "Reason10", "Reason11")
#rename
names(df)[1:ncol(df)] = c("Sex/Age group","Cost", "Inadequete public charging facilities", "No/limited access to home charging", "Limited range available", "Don't drive/ own a car", "Resale value of EV", "Reliability/ safety concerns", "No need/ don't know enough", "Not changing for a while", "Not available at time of last purchase", "Other", "Gender")
View(data)
View(df)
data = read_excel("/Users/kenny/Desktop/5000ds/dsan-5000-project-kennyzhao0428-main/dsan-website/5000-website/82.xlsx", skip = 2) # 跳过前两行标题
#Remove Unwanted Rows
df = data %>%
mutate(Gender = case_when(
`...1` == "Male" ~ "Male",
`...1` == "Female" ~ "Female",
TRUE ~ NA_character_
))
df = df %>%
fill(Gender)
#Remove unnecessary rows
df = df %>%
filter(!(`...1` %in% c("Male", "Female", "All Persons", "Sex/Age")))
#Fix the accuracy of numbers
mutate(`Electric Vehicle (EV) Ownership` = round(as.numeric(`Electric Vehicle (EV) Ownership`), 1))
#Remove Unwanted Rows
df = data %>%
mutate(Gender = case_when(
`...1` == "Male" ~ "Male",
`...1` == "Female" ~ "Female",
TRUE ~ NA_character_
))
df = df %>%
fill(Gender)
#Remove unnecessary rows
df = df %>%
filter(!(`...1` %in% c("Male", "Female", "All Persons", "Sex/Age")))
#Fix the accuracy of numbers
mutate(`Electric Vehicle (EV) Ownership` = round(as.numeric(`Electric Vehicle (EV) Ownership`), 1))
#Remove unnecessary rows
df = df %>%
filter(!(`...1` %in% c("Male", "Female", "All Persons", "Sex/Age")))%>%
#Fix the accuracy of numbers
mutate(`Electric Vehicle (EV) Ownership` = round(as.numeric(`Electric Vehicle (EV) Ownership`), 1))
#Rename columns
df = df %>%
rename(
`Age Group` = `...1`,
`EV ownership Yes` = `Electric Vehicle (EV) Ownership`,
`EV ownership No` = `...3`,
Total = `...4`
)
#Delete useless lines
df = df %>%
slice(-c(1, 9))
